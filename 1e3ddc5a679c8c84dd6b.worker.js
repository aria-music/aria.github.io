!function(n){var e={};function t(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return n[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}t.m=n,t.c=e,t.d=function(n,e,r){t.o(n,e)||Object.defineProperty(n,e,{configurable:!1,enumerable:!0,get:r})},t.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(e,"a",e),e},t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},t.p="",t(t.s="FL/U")}({"FL/U":function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=t("TdhH");const o=9600;let i,a,u=new Float32Array(o),f=0,c=!1;const s=Object(r.a)({onRuntimeInitialized:function(){s.ccall("init","number");const n=s.ccall("encode_buf","number"),e=s.ccall("decode_buf","number");i=new Uint8Array(s.HEAPU8.buffer,n),a=new Float32Array(s.HEAPF32.buffer,e),c=!0,console.log("[AudioWorker] Opus is ready!")}});function l(n=!1){postMessage({buf:u.buffer,len:n?0:f},[u.buffer]),u=new Float32Array(o),f=0}let p;onmessage=(n=>{const e=n.data;switch(console.log(`[AudioWorker] received: ${e.op}`),e.op){case"connect":!function(n){if(!n.key)return;try{p.close()}catch(n){}(p=new WebSocket("wss://sarisia.cc/stream/")).binaryType="arraybuffer",p.onopen=(()=>{p.send(n.key),console.log("[AudioWorker] Connected")}),p.onmessage=(n=>{c&&function(n){i.set(new Uint8Array(n));const e=s.ccall("decode","number",["number"],[n.byteLength]);for(let n=0;n<2*e;++n)u[f++]=a[n];f===o&&l()}(n.data)})}(e);break;case"flush":l(!0)}})},TdhH:function(n,e,t){"use strict";(function(n,r){var o,i=(o="https://gaiji.pro/static/opus/opus.js",function(e){e=void 0!==(e=e||{})?e:{};var i,a={};for(i in e)e.hasOwnProperty(i)&&(a[i]=e[i]);e.arguments=[],e.thisProgram="./this.program",e.quit=function(n,e){throw e},e.preRun=[],e.postRun=[];var u,f,c=!1,s=!1;c="object"==typeof window,s="function"==typeof importScripts,u="object"==typeof n&&"object"==typeof n.versions&&"string"==typeof n.versions.node&&!c&&!s,f=!c&&!u&&!s;var l,p,d="";u?(d=r+"/",e.read=function(n,e){var r;return l||(l=t("Ya8g")),p||(p=t("o/zv")),n=p.normalize(n),r=l.readFileSync(n),e?r:r.toString()},e.readBinary=function(n){var t=e.read(n,!0);return t.buffer||(t=new Uint8Array(t)),b(t.buffer),t},n.argv.length>1&&(e.thisProgram=n.argv[1].replace(/\\/g,"/")),e.arguments=n.argv.slice(2),n.on("uncaughtException",function(n){if(!(n instanceof J))throw n}),n.on("unhandledRejection",nn),e.quit=function(e){n.exit(e)},e.inspect=function(){return"[Emscripten Module object]"}):f?("undefined"!=typeof read&&(e.read=function(n){return read(n)}),e.readBinary=function(n){var e;return"function"==typeof readbuffer?new Uint8Array(readbuffer(n)):(b("object"==typeof(e=read(n,"binary"))),e)},"undefined"!=typeof scriptArgs?e.arguments=scriptArgs:void 0!==arguments&&(e.arguments=arguments),"function"==typeof quit&&(e.quit=function(n){quit(n)})):(c||s)&&(s?d=self.location.href:document.currentScript&&(d=document.currentScript.src),d=0!==(d=o).indexOf("blob:")?d.substr(0,d.lastIndexOf("/")+1):"",e.read=function(n){var e=new XMLHttpRequest;return e.open("GET",n,!1),e.send(null),e.responseText},s&&(e.readBinary=function(n){var e=new XMLHttpRequest;return e.open("GET",n,!1),e.responseType="arraybuffer",e.send(null),new Uint8Array(e.response)}),e.readAsync=function(n,e,t){var r=new XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?e(r.response):t()},r.onerror=t,r.send(null)},e.setWindowTitle=function(n){document.title=n});var y=e.print||("undefined"!=typeof console?console.log.bind(console):"undefined"!=typeof print?print:null),h=e.printErr||("undefined"!=typeof printErr?printErr:"undefined"!=typeof console&&console.warn.bind(console)||y);for(i in a)a.hasOwnProperty(i)&&(e[i]=a[i]);a=void 0;var m,g={"f64-rem":function(n,e){return n%e},debugger:function(){}};new Array(0),"object"!=typeof WebAssembly&&h("no native wasm support detected");var v=!1;function b(n,e){n||nn("Assertion failed: "+e)}var A,w,T,S,E="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function _(n,e,t){for(var r=e+t,o=e;n[o]&&!(o>=r);)++o;if(o-e>16&&n.subarray&&E)return E.decode(n.subarray(e,o));for(var i="";e<o;){var a=n[e++];if(128&a){var u=63&n[e++];if(192!=(224&a)){var f=63&n[e++];if((a=224==(240&a)?(15&a)<<12|u<<6|f:(7&a)<<18|u<<12|f<<6|63&n[e++])<65536)i+=String.fromCharCode(a);else{var c=a-65536;i+=String.fromCharCode(55296|c>>10,56320|1023&c)}}else i+=String.fromCharCode((31&a)<<6|u)}else i+=String.fromCharCode(a)}return i}function R(n,e){return n?_(T,n,e):""}function L(n,e){return n%e>0&&(n+=e-n%e),n}function C(){e.HEAP8=w=new Int8Array(A),e.HEAP16=new Int16Array(A),e.HEAP32=S=new Int32Array(A),e.HEAPU8=T=new Uint8Array(A),e.HEAPU16=new Uint16Array(A),e.HEAPU32=new Uint32Array(A),e.HEAPF32=new Float32Array(A),e.HEAPF64=new Float64Array(A)}"undefined"!=typeof TextDecoder&&new TextDecoder("utf-16le");var M=e.TOTAL_MEMORY||16777216;function k(n){for(;n.length>0;){var t=n.shift();if("function"!=typeof t){var r=t.func;"number"==typeof r?void 0===t.arg?e.dynCall_v(r):e.dynCall_vi(r,t.arg):r(void 0===t.arg?null:t.arg)}else t()}}M<5242880&&h("TOTAL_MEMORY should be larger than TOTAL_STACK, was "+M+"! (TOTAL_STACK=5242880)"),(m=e.wasmMemory?e.wasmMemory:new WebAssembly.Memory({initial:M/65536}))&&(A=m.buffer),M=A.byteLength,C(),S[8048]=5275104;var x=[],F=[],O=[],j=[],I=0,P=null,W=null;e.preloadedImages={},e.preloadedAudios={};var U="data:application/octet-stream;base64,";function D(n){return String.prototype.startsWith?n.startsWith(U):0===n.indexOf(U)}var H,B="opus.wasm";function V(){try{if(e.wasmBinary)return new Uint8Array(e.wasmBinary);if(e.readBinary)return e.readBinary(B);throw"both async and sync fetching of the wasm failed"}catch(n){nn(n)}}function z(n){var t={env:n,global:{NaN:NaN,Infinity:1/0},"global.Math":Math,asm2wasm:g};function r(n,t){var r=n.exports;e.asm=r,function(n){if(I--,e.monitorRunDependencies&&e.monitorRunDependencies(I),0==I&&(null!==P&&(clearInterval(P),P=null),W)){var t=W;W=null,t()}}()}function o(n){r(n.instance)}function i(n){return(e.wasmBinary||!c&&!s||"function"!=typeof fetch?new Promise(function(n,e){n(V())}):fetch(B,{credentials:"same-origin"}).then(function(n){if(!n.ok)throw"failed to load wasm binary file at '"+B+"'";return n.arrayBuffer()}).catch(function(){return V()})).then(function(n){return WebAssembly.instantiate(n,t)}).then(n,function(n){h("failed to asynchronously prepare wasm: "+n),nn(n)})}if(I++,e.monitorRunDependencies&&e.monitorRunDependencies(I),e.instantiateWasm)try{return e.instantiateWasm(t,r)}catch(n){return h("Module.instantiateWasm callback failed with error: "+n),!1}return function(){if(e.wasmBinary||"function"!=typeof WebAssembly.instantiateStreaming||D(B)||"function"!=typeof fetch)return i(o);fetch(B,{credentials:"same-origin"}).then(function(n){return WebAssembly.instantiateStreaming(n,t).then(o,function(n){h("wasm streaming compile failed: "+n),h("falling back to ArrayBuffer instantiation"),i(o)})})}(),{}}D(B)||(H=B,B=e.locateFile?e.locateFile(H,d):d+H),e.asm=function(n,e,t){return e.memory=m,e.table=new WebAssembly.Table({initial:12,maximum:12,element:"anyfunc"}),e.__memory_base=1024,e.__table_base=0,z(e)};var q={buffers:[null,[],[]],printChar:function(n,e){var t=q.buffers[n];0===e||10===e?((1===n?y:h)(_(t,0)),t.length=0):t.push(e)},varargs:0,get:function(n){return q.varargs+=4,S[q.varargs-4>>2]},getStr:function(){return R(q.get())},get64:function(){var n=q.get();return q.get(),n},getZero:function(){q.get()}};function K(){return w.length}function N(){var n=N;return n.LLVM_SAVEDSTACKS||(n.LLVM_SAVEDSTACKS=[]),n.LLVM_SAVEDSTACKS.push($()),n.LLVM_SAVEDSTACKS.length-1}var Y={d:nn,f:function(n){return e.___errno_location&&(S[e.___errno_location()>>2]=n),n},l:function(n,e){q.varargs=e;try{return q.getStreamFromFD(),q.get(),q.get(),q.get(),q.get(),0}catch(n){return"undefined"!=typeof FS&&n instanceof FS.ErrnoError||nn(n),-n.errno}},e:function(n,e){q.varargs=e;try{for(var t=q.get(),r=q.get(),o=q.get(),i=0,a=0;a<o;a++){for(var u=S[r+8*a>>2],f=S[r+(8*a+4)>>2],c=0;c<f;c++)q.printChar(t,T[u+c]);i+=f}return i}catch(n){return"undefined"!=typeof FS&&n instanceof FS.ErrnoError||nn(n),-n.errno}},k:function(n,e){q.varargs=e;try{return 0}catch(n){return"undefined"!=typeof FS&&n instanceof FS.ErrnoError||nn(n),-n.errno}},j:function(n,e){q.varargs=e;try{return q.getStreamFromFD(),0}catch(n){return"undefined"!=typeof FS&&n instanceof FS.ErrnoError||nn(n),-n.errno}},i:K,h:function(n,e,t){T.set(T.subarray(e,e+t),n)},g:function(n){var e=K();if(n>2147418112)return!1;for(var t=Math.max(e,16777216);t<n;)t=t<=536870912?L(2*t,65536):Math.min(L((3*t+2147483648)/4,65536),2147418112);return!!function(n){n=L(n,65536);var e=A.byteLength;try{return-1!==m.grow((n-e)/65536)&&(A=m.buffer,!0)}catch(n){return!1}}(t)&&(C(),!0)},b:function(n){var e=N,t=e.LLVM_SAVEDSTACKS[n];e.LLVM_SAVEDSTACKS.splice(n,1),Z(t)},c:N,m:function(n){nn("OOM")},a:32192},G=e.asm({},Y,A);e.asm=G,e.___errno_location=function(){return e.asm.n.apply(null,arguments)},e._cleanup=function(){return e.asm.o.apply(null,arguments)},e._decode=function(){return e.asm.p.apply(null,arguments)},e._decode_buf=function(){return e.asm.q.apply(null,arguments)},e._encode_buf=function(){return e.asm.r.apply(null,arguments)},e._init=function(){return e.asm.s.apply(null,arguments)};var X=e.stackAlloc=function(){return e.asm.t.apply(null,arguments)},Z=e.stackRestore=function(){return e.asm.u.apply(null,arguments)},$=e.stackSave=function(){return e.asm.v.apply(null,arguments)};function J(n){this.name="ExitStatus",this.message="Program terminated with exit("+n+")",this.status=n}function Q(n){function t(){e.calledRun||(e.calledRun=!0,v||(k(F),k(O),e.onRuntimeInitialized&&e.onRuntimeInitialized(),function(){if(e.postRun)for("function"==typeof e.postRun&&(e.postRun=[e.postRun]);e.postRun.length;)n=e.postRun.shift(),j.unshift(n);var n;k(j)}()))}n=n||e.arguments,I>0||(function(){if(e.preRun)for("function"==typeof e.preRun&&(e.preRun=[e.preRun]);e.preRun.length;)n=e.preRun.shift(),x.unshift(n);var n;k(x)}(),I>0||e.calledRun||(e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),t()},1)):t()))}function nn(n){throw e.onAbort&&e.onAbort(n),void 0!==n?(y(n),h(n),n='"'+n+'"'):n="",v=!0,"abort("+n+"). Build with -s ASSERTIONS=1 for more info."}if(e.asm=G,e.ccall=function(n,t,r,o,i){var a={string:function(n){var e=0;if(null!==n&&void 0!==n&&0!==n){var t=1+(n.length<<2);!function(n,e,t){!function(n,e,t,r){if(!(r>0))return 0;for(var o=t+r-1,i=0;i<n.length;++i){var a=n.charCodeAt(i);if(a>=55296&&a<=57343){var u=n.charCodeAt(++i);a=65536+((1023&a)<<10)|1023&u}if(a<=127){if(t>=o)break;e[t++]=a}else if(a<=2047){if(t+1>=o)break;e[t++]=192|a>>6,e[t++]=128|63&a}else if(a<=65535){if(t+2>=o)break;e[t++]=224|a>>12,e[t++]=128|a>>6&63,e[t++]=128|63&a}else{if(t+3>=o)break;e[t++]=240|a>>18,e[t++]=128|a>>12&63,e[t++]=128|a>>6&63,e[t++]=128|63&a}}e[t]=0}(n,T,e,t)}(n,e=X(t),t)}return e},array:function(n){var e,t,r=X(n.length);return e=n,t=r,w.set(e,t),r}},u=function(n){var t=e["_"+n];return b(t,"Cannot call unknown function "+n+", make sure it is exported"),t}(n),f=[],c=0;if(o)for(var s=0;s<o.length;s++){var l=a[r[s]];l?(0===c&&(c=$()),f[s]=l(o[s])):f[s]=o[s]}var p=u.apply(null,f);return p=function(n){return"string"===t?R(n):"boolean"===t?Boolean(n):n}(p),0!==c&&Z(c),p},e.then=function(n){if(e.calledRun)n(e);else{var t=e.onRuntimeInitialized;e.onRuntimeInitialized=function(){t&&t(),n(e)}}return e},J.prototype=new Error,J.prototype.constructor=J,W=function n(){e.calledRun||Q(),e.calledRun||(W=n)},e.run=Q,e.abort=nn,e.preInit)for("function"==typeof e.preInit&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return e.noExitRuntime=!0,Q(),e});e.a=i}).call(e,t("W2nU"),"/")},W2nU:function(n,e){var t,r,o=n.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function u(n){if(t===setTimeout)return setTimeout(n,0);if((t===i||!t)&&setTimeout)return t=setTimeout,setTimeout(n,0);try{return t(n,0)}catch(e){try{return t.call(null,n,0)}catch(e){return t.call(this,n,0)}}}!function(){try{t="function"==typeof setTimeout?setTimeout:i}catch(n){t=i}try{r="function"==typeof clearTimeout?clearTimeout:a}catch(n){r=a}}();var f,c=[],s=!1,l=-1;function p(){s&&f&&(s=!1,f.length?c=f.concat(c):l=-1,c.length&&d())}function d(){if(!s){var n=u(p);s=!0;for(var e=c.length;e;){for(f=c,c=[];++l<e;)f&&f[l].run();l=-1,e=c.length}f=null,s=!1,function(n){if(r===clearTimeout)return clearTimeout(n);if((r===a||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(n);try{r(n)}catch(e){try{return r.call(null,n)}catch(e){return r.call(this,n)}}}(n)}}function y(n,e){this.fun=n,this.array=e}function h(){}o.nextTick=function(n){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];c.push(new y(n,e)),1!==c.length||s||u(d)},y.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=h,o.addListener=h,o.once=h,o.off=h,o.removeListener=h,o.removeAllListeners=h,o.emit=h,o.prependListener=h,o.prependOnceListener=h,o.listeners=function(n){return[]},o.binding=function(n){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(n){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},Ya8g:function(n,e){},"o/zv":function(n,e,t){(function(n){function t(n,e){for(var t=0,r=n.length-1;r>=0;r--){var o=n[r];"."===o?n.splice(r,1):".."===o?(n.splice(r,1),t++):t&&(n.splice(r,1),t--)}if(e)for(;t--;t)n.unshift("..");return n}function r(n,e){if(n.filter)return n.filter(e);for(var t=[],r=0;r<n.length;r++)e(n[r],r,n)&&t.push(n[r]);return t}e.resolve=function(){for(var e="",o=!1,i=arguments.length-1;i>=-1&&!o;i--){var a=i>=0?arguments[i]:n.cwd();if("string"!=typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,o="/"===a.charAt(0))}return e=t(r(e.split("/"),function(n){return!!n}),!o).join("/"),(o?"/":"")+e||"."},e.normalize=function(n){var i=e.isAbsolute(n),a="/"===o(n,-1);return(n=t(r(n.split("/"),function(n){return!!n}),!i).join("/"))||i||(n="."),n&&a&&(n+="/"),(i?"/":"")+n},e.isAbsolute=function(n){return"/"===n.charAt(0)},e.join=function(){var n=Array.prototype.slice.call(arguments,0);return e.normalize(r(n,function(n,e){if("string"!=typeof n)throw new TypeError("Arguments to path.join must be strings");return n}).join("/"))},e.relative=function(n,t){function r(n){for(var e=0;e<n.length&&""===n[e];e++);for(var t=n.length-1;t>=0&&""===n[t];t--);return e>t?[]:n.slice(e,t-e+1)}n=e.resolve(n).substr(1),t=e.resolve(t).substr(1);for(var o=r(n.split("/")),i=r(t.split("/")),a=Math.min(o.length,i.length),u=a,f=0;f<a;f++)if(o[f]!==i[f]){u=f;break}var c=[];for(f=u;f<o.length;f++)c.push("..");return(c=c.concat(i.slice(u))).join("/")},e.sep="/",e.delimiter=":",e.dirname=function(n){if("string"!=typeof n&&(n+=""),0===n.length)return".";for(var e=n.charCodeAt(0),t=47===e,r=-1,o=!0,i=n.length-1;i>=1;--i)if(47===(e=n.charCodeAt(i))){if(!o){r=i;break}}else o=!1;return-1===r?t?"/":".":t&&1===r?"/":n.slice(0,r)},e.basename=function(n,e){var t=function(n){"string"!=typeof n&&(n+="");var e,t=0,r=-1,o=!0;for(e=n.length-1;e>=0;--e)if(47===n.charCodeAt(e)){if(!o){t=e+1;break}}else-1===r&&(o=!1,r=e+1);return-1===r?"":n.slice(t,r)}(n);return e&&t.substr(-1*e.length)===e&&(t=t.substr(0,t.length-e.length)),t},e.extname=function(n){"string"!=typeof n&&(n+="");for(var e=-1,t=0,r=-1,o=!0,i=0,a=n.length-1;a>=0;--a){var u=n.charCodeAt(a);if(47!==u)-1===r&&(o=!1,r=a+1),46===u?-1===e?e=a:1!==i&&(i=1):-1!==e&&(i=-1);else if(!o){t=a+1;break}}return-1===e||-1===r||0===i||1===i&&e===r-1&&e===t+1?"":n.slice(e,r)};var o="b"==="ab".substr(-1)?function(n,e,t){return n.substr(e,t)}:function(n,e,t){return e<0&&(e=n.length+e),n.substr(e,t)}}).call(e,t("W2nU"))}});
//# sourceMappingURL=1e3ddc5a679c8c84dd6b.worker.js.map